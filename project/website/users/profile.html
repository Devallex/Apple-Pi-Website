<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="/resources/css/styles.css">
	</link>
	<title>
		Users
	</title>
	<script src="/resources/js/modules.js" id="modules">
	</script>
</head>

<body>
	<noscript>
		<meta http-equiv='refresh' content='0; URL=/noscript'>
	</noscript>
	<header></header>
	<main>
		<h1 class="title">Profile â€” {{ user.getNameText() }} </h1>
		<h2>Description</h2>
		<p>
			{% if user.description %}
			{{ user.description }}
			{% else %}
			<i>This profile has no description</i>
			{% endif %}
		</p>
		<hr>
		<h2>Information</h2>
		<p>
			Joined on: {{ user.getDateText() }}
			<br>
		</p>
		<h2>Roles</h2>
		<label for="roles">Current roles:</label>
		{% if user.getRoles()|length %}
		<ul id="roles">
			{% for role in user.getRoles() %}
			<li>
				<form class="inline" action="/users/{{ user.id }}/roles/{{ role.id }}/" method="delete">
					<label for="unassign-{{ role.id }}">{{ role.label }}</label>
					<input id="unassign-{{ role.id }}" type="submit" value="Unassign">
				</form>
			</li><br>
			{% endfor %}
		</ul>
		{% else %}
		<i>None</i><br><br>
		{% endif %}
		<label for="assign-roles">Assign roles:</label>
		<form id="assign-roles" action="/users/{{ user.id }}/roles/" method="patch">
			<select name="role_id">
				<option selected value="">None</option>
				{% for role in roles %}
				{% if not role in user.getRoles() %}
				<option value="{{ role.id }}">{{ role.label }}</option>
				{% endif %}
				{% endfor %}
			</select>
			<input type="submit" value="Assign">
		</form>
	</main>
	<footer></footer>
</body>

</html>