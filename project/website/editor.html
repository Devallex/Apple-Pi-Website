<!DOCTYPE html>
<html lang="en">

<head>
	<title>{{ document_type }} Editor</title>
	{{ head|safe }}
</head>

<body>
	<noscript>
		<meta http-equiv="refresh" content="0; URL=/noscript" />
	</noscript>
	{{ header|safe }}
	<main>
		{{ breadcrumbs|safe }}
		<h1 class="title">{{ document_type }} Editor</h1>
		<form action="{{ api_url }}" method="{{ method }}">
			<fieldset>
				<legend>Document</legend>

				<label for="title"><b>Title (Required â€” Unique):</b> What should this document be titled?</label><br>
				<input name="title" id="title" type="text" placeholder="Unique document name..."><br><br>

				<input name="body" id="body" hidden>
				<div id="editor"></div>

				<script>
					const quill = new Quill('#editor', {
						modules: {
							toolbar: [
								[
									{ header: [false, 1, 2, 3, 4, 5, 6] }
								],
								["bold", "italic", "underline", "strike"],
								[{list: "ordered"}, {list: "bullet"}],
								["blockquote", "code-block", "formula"],
								["link", "image", "video"],
								[{ script: "sub" }, { script: "super" }],
							]
						},
						placeholder: "Click here to type...",
						theme: 'snow'
					});

					const body = document.getElementById("body");
					function update_body() {
						const result = JSON.stringify(quill.getContents().ops);
						body.value = result;
					}

					quill.on("text-change", update_body);
					update_body();
				</script><br>

				<input name="is_published" id="is_published" type="checkbox">
				<label for="is_published"><b>Published:</b> If the document can be publicly visible. If not, only those
					with relevant preview or edit permissions can see it.</label><br>
			</fieldset>

			{{ other|safe }}

			<input type="submit" value="Create">
		</form>
	</main>
	{{ footer|safe }}
</body>

</html>